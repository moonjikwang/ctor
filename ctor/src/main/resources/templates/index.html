<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" data-bs-theme="dark">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1">
<link rel="manifest" href="manifest.json">
<link rel="icon" sizes="192x192" href="menu.png">
<link rel="icon" sizes="512x512" href="menu.png">
<link rel="icon" type="image/x-icon" href="img/menu.png">
<link rel="shortcut icon" type="image/x-icon" href="img/menu.png">

<meta property="og:image" content="img/social.png">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Righteous&family=Noto+Sans+KR:wght@500&family=Raleway:wght@900&family=Ubuntu:wght@500&display=swap" rel="stylesheet">
<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/static/pretendard.css" />
<link rel="stylesheet" href="css/main.css">
<title>new Project();</title>
<script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('https://tomcat.jikwang.net/ctor/sw.js', {
    	  scope: 'https://tomcat.jikwang.net/ctor'
    })
      .then(registration => {
        console.log('Service worker registered: ', registration);
      })
      .catch(registrationError => {
        console.log('Service worker registration failed: ', registrationError);
      });
  });
}
</script>
</head>
<body>
	<div class="py-3" style="padding-left: 0px; padding-right: 0px;">
		<!-- header fragment 사용 -->
		<th:block th:replace="fragments/header :: headerFragment"></th:block>
		<!-- 캐러셀시작 -->
		<div class="container-fluid p-0 mb-5 wow fadeIn" data-wow-delay="0.1s">
			<div id="header-carousel" class="carousel slide carousel-fade"
				data-bs-ride="carousel">
				<div class="carousel-inner">
					<div class="carousel-item active">
						<img class="pc100" src="img/Graphic-Purple-Wave.svg" alt="Image"
							height="500px;"
							style="z-index: 30; display: inline-block; left: 300px !important;">
						<img class="pc100" src="img/Graphic-Blue-Wave.svg" height="500px;"
							style="position: absolute; opacity: 1; z-index: 20; display: inline-block; left: 200px !important;">
						<div class="carousel-caption" style="z-index: 100;">
							<div class="container">
								<div class="row justify-content-start">
									<div class="col-lg-8">
										<h5 class="display-3 mb-4 animated slideInDown"
											style="text-align: left; font-family: 'Noto Sans KR', sans-serif; white-space: nowrap;">
											프로젝트와 스터디를<br>함께할 팀원을 쉽게<br>찾으세요.🖐
										</h5>
										<a href="about" style="float: left;"
											class="btn btn-primary py-3 px-5 animated slideInDown">Learn
											more</a>
									</div>
								</div>
							</div>
						</div>
					</div>
									<!-- <div class="carousel-item">
				    <img class="w-100" src="img/carousel-2.jpg" alt="Image">
				    <div class="carousel-caption">
				        <div class="container">
				            <div class="row justify-content-start">
				                <div class="col-lg-7">
				                    <p
				                        class="d-inline-block border border-white rounded text-primary fw-semi-bold py-1 px-3 animated slideInDown">
				                        </p>
				                    <h1 class="display-1 mb-4 animated slideInDown"></h1>
				                    <a href="" class="btn btn-primary py-3 px-5 animated slideInDown"></a>
				                </div>
				            </div>
				        </div>
				    </div>
				</div> -->
				</div>

			</div>

		</div>
		<!-- 캐러셀 끝 -->

		<main class="container">

			<!-- 기술 선택 탭 -->
			<div style="text-align: center; display: block;">
				<h1 class="display-6 fw-normal" style="margin-top: 2rem; margin-bottom: 2rem;">새로운
					경험을 쌓아보세요.</h1>

				<form id="skillTab">
					<ul class="nav nav-tabs col-md-10"
						style="margin-bottom: 1rem; margin-left: auto; margin-right: auto;">

						<th:block th:each="positionTab : ${positionList}">
							<li class="nav-item"><a class="nav-link"> <input
									type="radio" name="positions" class="btn-check"
									th:value="${positionTab.name}" th:id="${positionTab.name}"
									autocomplete="off" onchange="showDivs()"> <label
									th:for="${positionTab.name}"> [[${positionTab.name}]]</label>
							</a></li>
						</th:block>


					</ul>
				</form>
				<div class="scrollBar"
					style="overflow-x: auto; white-space: nowrap;">
					<form id="skillTab">
						<input type="checkbox" class="btn-check" name="flag"
							id="selectAll" onchange="showDivs()"> <label
							class="btn btn-outline-light" for="selectAll" name="flag"
							style="display: none; margin-right: 2px; height: 3rem; border: solid 2px; margin-bottom: 10px !important; border-radius: 25px; line-height: 2rem;"><svg
								xmlns="http://www.w3.org/2000/svg" width="16" height="16"
								fill="currentColor" class="bi bi-arrow-counterclockwise"
								viewBox="0 0 16 16">
  <path fill-rule="evenodd"
									d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z" />
  <path
									d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z" />
</svg>초기화</label>
						<th:block th:each="skillTab : ${skillList}">
							<input type="checkbox" name="skills" style="display: none;"
								class="btn-check" th:value="${skillTab.skill}"
								th:id="${skillTab.skill}" autocomplete="off"
								onchange="showDivs()">
							<label class="btn btn-outline-light" th:for="${skillTab.skill}"
								style="margin-right: 2px; border: solid 2px; display: inline-block; height: 3rem; margin-bottom: 10px !important; border-radius: 25px; line-height: 2rem;">
								<img th:src="${'img/'+skillTab.skill+'.png'}" width="25"
								height="25" class="rounded-circle me-2">
								[[${skillTab.skill}]]
							</label>
						</th:block>
					</form>
				</div>

			</div>
			<!-- 기술 선택 탭 끝-->
			<!-- 기술별 보기 스크립트 -->
			<script>
				function showDivs() {
					var checkedSkills = $('input[name="skills"]:checked').map(
							function() {
								return $(this).val();
							}).get();
					var checkedPositions = $('input[name="positions"]:checked')
							.map(function() {
								return $(this).val();
							}).get();

					if (checkedSkills.length == 0
							&& checkedPositions.length == 0) {
						$('.skillDiv').show();
						$('label[name="flag"]').hide();
					} else {

						$('label[name="flag"]').show();
						$('.skillDiv')
								.hide()
								.filter(
										function() {
											var techStacks = $(this).data(
													'tech-stack').split(',');
											for (var i = 0; i < techStacks.length; i++) {
												if (checkedSkills
														.includes(techStacks[i])) {
													return true;
												}
											}
											return false;
										}).show();

						if (checkedPositions.length != 0
								&& checkedSkills.length == 0) {
							$('.skillDiv')
									.hide()
									.filter(
											function() {
												var position = $(this).data(
														'position').split(',');
												for (var i = 0; i < position.length; i++) {
													if (checkedPositions
															.includes(position[i])) {
														return true;
													}
												}
												return false;
											}).show();
						} else if (checkedSkills.length != 0
								&& checkedPositions.length == 0) {

							$('.skillDiv')
									.hide()
									.filter(
											function() {
												var techStacks = $(this).data(
														'tech-stack')
														.split(',');
												for (var i = 0; i < techStacks.length; i++) {
													if (checkedSkills
															.includes(techStacks[i])) {
														return true;
													}
												}
												return false;
											}).show();
						} else if (checkedSkills.length != 0
								&& checkedPositions.length != 0) {

							$('.skillDiv')
									.hide()
									.filter(
											function() {
												var techStacks = $(this).data(
														'tech-stack')
														.split(',');
												var position = $(this).data(
														'position').split(',');
												var flag = 0;

												for (var i = 0; i < techStacks.length; i++) {
													if (checkedSkills
															.includes(techStacks[i])) {
														flag++;
													}
												}

												for (var i = 0; i < position.length; i++) {
													if (checkedPositions
															.includes(position[i])) {
														flag++;
													}
												}

												if (flag == 2) {
													return true;
												}

												return false;
											}).show();
						}

					}
				}
				$(document).ready(function() {
					showDivs();
					$("#selectAll").click(function() {
						$('input[name="skills"]').prop('checked', null);
						$('input[name="flag"]').prop('checked', null);
						$('input[name="positions"]').prop('checked', null);
						$('label[name="flag"]').hide();
						showDivs();
					});
				});
			</script>
			<div class="pricing-header p-3 pb-md-4 mx-auto text-center"></div>
			<!--기술별 보기 스크립트 끝  -->
			<!-- 보드 목록 -->
			<div
				class="row row-cols-1 row-cols-lg-3 row-cols-xl-4 mb-3 text-center"
				style="padding: 0px;" >
				<div th:each="dto : ${dto}" class="col skillDiv"
					th:attr="data-tech-stack=${dto.techStack}, data-position=${dto.position}">
					<th:block th:if="${dto.techStack}"
						th:attr="data-tech-stack=${dto.techStack}, data-position=${dto.position}">
						<a th:href="@{boardRead(boardno=${dto.boardno})}"
							style="text-decoration: none; color: #adb5bd;">
							<div class="card mb-4 rounded-4 shadow-sm"
								style="margin-left: 5px; margin-right: 5px; border: solid 2px #353535;">
								<div class="card-header py-3">
									<span th:if="${dto.closingDate!='' and #temporals.format(#temporals.createNow(),'yyyy-MM-dd') &gt; dto.closingDate or dto.closed }"
										class="badge text-bg-danger"
										style=" float: left; margin-left: 10px; margin-top: 10px;">⛔ 마감</span>
									<span class="badge text-bg-light"
										style="color: dimgrey !important; float: left; margin-left: 10px; margin-top: 10px;"
										th:text="${dto.category=='스터디'?'✏️스터디':'🗂️프로젝트'}">🗂️프로젝트</span>
									<span th:if="${dto.mentorName}!=null"
										class="badge text-bg-light"
										style="color: dimgrey !important; float: left; margin-left: 10px; margin-top: 10px;">🙋‍♂️멘토</span>
								</div>
								<div class="card-body">
									<small class="text-muted fw-light"
										style="color: #f9f7fa !important;">마감일 |
										<th:block th:text='${(dto.closingDate=="")? "상시모집" : dto.closingDate}'></th:block></small>
									<ul class="list-unstyled mt-3 mb-4">
										<span class="textLine h6"><b style="color: #cccccc;">[[${dto.title}]]</b></span>
										<br>
										<th:block
											th:each="position : ${#strings.arraySplit(dto.position,',')}">
											<span class="badge"
												style="margin-top: 20px; color: black; background-color: #cccccc">[[${position}]]</span>
										</th:block>
									</ul>
									<div style="padding-bottom: 10px; min-height: 58px;">
										<th:block
											th:each="skill : ${#strings.arraySplit(dto.techStack,',')}">

											<img
												th:src="@{https://img.shields.io/badge/} + ${skill}+@{-}+${skillMap['__${skill}__']}+@{?style=for-the-badge&logo=}+${skill}+@{&logoColor=white}"
												height="20px;">
										</th:block>
									</div>
									<hr>
									<img th:src="${dto.profileImg}" alt="" width="25" height="25"
										class="rounded-circle me-2"> <span><b
										style="color: #f9f7fa;">[[${dto.name}]]</b></span> <span
										style="float: right"> <b></b> <svg
											xmlns="http://www.w3.org/2000/svg" width="16" height="16"
											fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
  <path
												d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z" />
  <path
												d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" />
</svg><small> [[${dto.viewCount}]] </small> <svg
											xmlns="http://www.w3.org/2000/svg" width="16" height="16"
											fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
  <path
												d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
</svg> <small> [[${dto.replyCount}]]</small>
									</span>
								</div>
							</div>
						</a>
					</th:block>
				</div>

			</div>
			<th:block th:replace="fragments/modal :: modalFragment"></th:block>
		<script src="https://cdn.flarelane.com/WebSDK.js" charset="UTF-8"></script>
<script>
    FlareLane.initialize({ projectId: "3c2aa96a-ebf9-4def-85e3-5e7cc9af70d2" });
    
</script>
		<script th:inline="javascript" th:if="${session.userInfo != null}">
  let flag = false;
  const callback = (isSubscribed) => {
    flag = isSubscribed;
    if (!flag) {
      FlareLane.setIsSubscribed(true, () => {
        // D0 something...
      });
    }
  };
  FlareLane.getIsSubscribed(callback);
  FlareLane.setUserId(/*[[${session.userInfo.getEmail()}]]*/);
</script>
		</main>

		<!-- footer fragment 사용 -->
		<th:block th:replace="fragments/footer :: footerFragment"></th:block>
		<a id="back-to-top" href="#" class="btn btn-light btn-lg back-to-top"
			role="button"><svg xmlns="http://www.w3.org/2000/svg" width="16"
				height="16" fill="currentColor" class="bi bi-arrow-up"
				viewBox="0 0 16 16">
  <path fill-rule="evenodd"
					d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z" />
				<svg></a>
	</div>

	<script>
		var type;
		var subject;

		function checkValue(memberType) {

			type = memberType;
			document.getElementById("page1").style.display = 'none';
			document.getElementById("page2").style.display = 'block';
			document.getElementById("page2title").innerHTML = (type == "student" ? "학생"
					: "강사님")
					+ '이시군요! <br> 지금 진행중인 or 관심있는 과정을 선택해주세요.';
		}
		function checkpage2Value(subjectType) {
			subject = subjectType;
			document.getElementById("submitGrade").setAttribute("value", type);
			document.getElementById("page2").style.display = 'none';
			document.getElementById("page3").style.display = 'block';
		}
	</script>
	<script th:inline="javascript">
		$(document).ready(function() {
			var emailval = /*[[${regiInfo}]]*/"";
			if (emailval != null) {
				$('#test').modal('show');
			}
			$(window).scroll(function() {
				if ($(this).scrollTop() > 50) {
					$('#back-to-top').fadeIn();
				} else {
					$('#back-to-top').fadeOut();
				}
			});
			// scroll body to 0px on click
			$('#back-to-top').click(function() {
				$('body,html').animate({
					scrollTop : 0
				}, 400);
				return false;
			});
		});
	</script>
	<script>
		setTimeout(function() {
			$('#loading').hide();
		}, 1000);
	</script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
		crossorigin="anonymous"></script>

	<script>
	let deferredPrompt

	window.addEventListener('beforeinstallprompt', event => {
	    event.preventDefault()
	    deferredPrompt = event
	})

	const installApp = () => {
	    if (!deferredPrompt) {
	        alert('이미 앱이 설치되어 있거나 앱을 설치할 수 없는 환경입니다')
	        return
	    }

	    deferredPrompt.prompt()
	}
	
	</script>
 
</body>
</html>